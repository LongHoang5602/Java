<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <th:block th:replace="layout::link-css"></th:block>
  <title>Add Book</title>
  <style>
    .button {
      display: inline-block;
      padding: 10px 20px;
      background-color: #007bff;
      color: #fff;
      border-radius: 5px;
      text-decoration: none;
    }
  </style>
</head>

<body>
  <th:block th:replace="layout :: header"></th:block>
  <div class="container">
    <h1>Edit Book</h1>
    <form th:action="@{/products/add}" th:object="${product}" method="post">
      <div class="col-6 mb-3">
        <input class="form-control" type="hidden" th:field="*{id}" id="id">
        <span class="text-danger" th:if="${#fields.hasErrors('id')}" th:errors="*{id}"></span>
      </div>
      <div class="col-6 mb-3">
        <label class="form-label" for="name">Title:</label>
        <input class="form-control" type="text" th:field="*{name}" id="name">
        <span class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>
      </div>
      <div class="col-6 mb-3">
        <label class="form-label" for="description">Description:</label>
        <input class="form-control" type="text" th:field="*{description}" id="description">
        <span class="text-danger" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span>
      </div>
      <div class="col-6 mb-3">
        <label class="form-label" for="price">Price:</label>
        <input class="form-control" type="text" th:field="*{price}" id="price">
        <span class="text-danger" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></span>
      </div>
      <div class="col-6 mb-3">
        <label class="form-label" for="image">Image:</label>
        <input class="form-control" type="text" th:field="*{image}" id="image">
        <!-- <input class="form-control" type="file" id="image" name="image" accept="image/png,image/jpeg"> -->
        <span class="text-danger" th:if="${#fields.hasErrors('image')}" th:errors="*{image}"></span>
      </div>
      <div class="col-6 mb-3">
        <label class="form-label" for="category">Category:</label>
        <select class="form-control" id="category" name="category.id">
          <option th:each="category: ${categories}" th:value="${category.id}" th:text="${category.name}"></option>
        </select>
      </div>
      <input type="submit" class="btn btn-primary" value="Save">
    </form>
    <br>

  </div>
  <th:block th:replace="layout :: footer"></th:block>
</body>

</html>
<script>
  document.querySelector('form').addEventListener('submit', function () {
    th: action = "@{/books}";
  });
</script>